{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "height":280,
    "width":"container",
    "background":"white",
    "title": "Top 10 Non-English Languages Spoken at Home in Australia (2021)",
    "description": "Lollipop chart showing the total number of speakers for the top 10 languages in Australia (exlcuding English)",
    "data": {
        "url": "https://raw.githubusercontent.com/mkee0011/3179/main/data_vis_2_final/data/top10_bystate.csv"
    },
    "transform": [
        {"filter":"datum.State=='Total'"},
        {
            "fold":["Cantonese","Mandarin","Vietnamese","Arabic","Hindi","Punjabi","Nepali","Greek","Italian","Spanish"], "as":["Language","Speakers"]
        },
        {"calculate": "datum.Speakers * 100","as":"Speakers"}   
    ],
    "layer": [
        {
            "mark":{
                "type":"rule",
                "strokeWidth":2,
                "color":"#238b45"
            },
            "encoding": {
                "x":{"field": "Language","type": "nominal","sort":"-y","axis":{"labelAngle":-45}},
                "y":{"field":"Speakers","type": "quantitative","axis":{"title":"% of Population"}}
            }
        },
        {
            "mark":{
                "type":"point",
                "filled": true,
                "size":300,
                "color":"#238b45",
                "opacity":1
            },
            "encoding": {
                "x":{"field": "Language","type": "nominal","sort":"-y"},
                "y":{"field":"Speakers","type": "quantitative"},
                "tooltip":[
                    {"field":"Language","type": "nominal"},
                    {"field":"Speakers","type": "quantitative","title":"% of Population","format":".2f"}
                ]

            }
        }
    ]
}

